# –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –≤ JavaScript

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –≤ JavaScript ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç **–ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å** –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ **–≤–æ–∑–æ–±–Ω–æ–≤–ª—è—Ç—å** –µ–≥–æ –ø–æ–∑–∂–µ. –û–Ω–∏ –æ–±–æ–∑–Ω–∞—á–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∑–≤—ë–∑–¥–æ—á–∫–∏ (`function*`) –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `yield` –¥–ª—è –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

---

### üìå –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```js
function* generatorFunction() {
  yield 1;
  yield 2;
  yield 3;
}
```

–í—ã–∑–æ–≤ —Ç–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ **–Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç** –µ—ë, –∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–æ–±—ä–µ–∫—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞**:

```js
const gen = generatorFunction();
```

–£ –æ–±—ä–µ–∫—Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –µ—Å—Ç—å –º–µ—Ç–æ–¥ `.next()`, –∫–æ—Ç–æ—Ä—ã–π **–≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç** –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ `yield`.

---

### üîÑ –ü—Ä–∏–º–µ—Ä

```js
function* gen() {
  console.log('Start');
  yield 'A';
  console.log('Between');
  yield 'B';
  console.log('End');
}

const iterator = gen();

console.log(iterator.next()); // Start ‚Üí { value: 'A', done: false }
console.log(iterator.next()); // Between ‚Üí { value: 'B', done: false }
console.log(iterator.next()); // End ‚Üí { value: undefined, done: true }
```

---

### üß† –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `yield`

* –ü—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
* –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ
* –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º `next()` –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è **–ø–æ—Å–ª–µ** `yield`

---

### üì• –ü–µ—Ä–µ–¥–∞—á–∞ –∑–Ω–∞—á–µ–Ω–∏—è –≤–Ω—É—Ç—Ä—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞

```js
function* gen() {
  const x = yield 'First';
  console.log('x:', x);
  const y = yield 'Second';
  console.log('y:', y);
}

const it = gen();
console.log(it.next());       // { value: 'First', done: false }
console.log(it.next(10));     // x: 10, { value: 'Second', done: false }
console.log(it.next(20));     // y: 20, { value: undefined, done: true }
```

---

### ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

* –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ (`co`, `redux-saga`)
* –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã –∏ –ª–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
* –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

---

### –ü–µ—Ä–µ–±–æ—Ä –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞


T–∞–±–ª–∏—Ü–∞ —Å–æ –≤—Å–µ–º–∏ –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ –ø–µ—Ä–µ–±–æ—Ä–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –≤ JS:

| –ú–µ—Ç–æ–¥             | –ü—Ä–∏–º–µ—Ä                            | –û–ø–∏—Å–∞–Ω–∏–µ                                                         | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç               | –¢—Ä–µ–±—É–µ—Ç `done`? |
| ----------------- | --------------------------------- | ---------------------------------------------------------------- | ------------------------ | --------------- |
| `.next()` –≤—Ä—É—á–Ω—É—é | `gen.next()`                      | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç (–æ–±—ä–µ–∫—Ç —Å `value` –∏ `done`)         | `{ value, done }`        | –î–∞              |
| `for...of`        | `for (const v of gen()) {}`       | –ü–µ—Ä–µ–±–∏—Ä–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–æ `done === true`                          | –ö–∞–∂–¥—ã–π `value`           | –î–∞              |
| `...` (—Å–ø—Ä–µ–¥)     | `[...gen()]`                      | –†–∞—Å—à–∏—Ä—è–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤ –º–∞—Å—Å–∏–≤                                     | `Array` –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π      | –î–∞              |
| `Array.from()`    | `Array.from(gen())`               | –°–æ–∑–¥–∞—ë—Ç –º–∞—Å—Å–∏–≤ –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞                            | `Array` –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π      | –î–∞              |
| –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è  | `const [a, b] = gen();`           | –ü–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –ø–æ—Ä—è–¥–∫—É                                     | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ               | –î–∞              |
| `for await...of`  | `for await (const v of gen()) {}` | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞–º–∏** (`async function*`) | –ö–∞–∂–¥—ã–π `value` (Promise) | –î–∞              |

---

üí° **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:**

* –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑** —Å –æ–¥–Ω–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞.
* `for await...of` —Ç—Ä–µ–±—É–µ—Ç `async function*` –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö.


---

### 1. **–ú–µ—Ç–æ–¥ `.next()` –≤—Ä—É—á–Ω—É—é**

–≠—Ç–æ –±–∞–∑–æ–≤—ã–π —Å–ø–æ—Å–æ–±:

```js
function* gen() {
  yield 'A';
  yield 'B';
  yield 'C';
}

const iterator = gen();

console.log(iterator.next()); // { value: 'A', done: false }
console.log(iterator.next()); // { value: 'B', done: false }
console.log(iterator.next()); // { value: 'C', done: false }
console.log(iterator.next()); // { value: undefined, done: true }
```

---

### 2. **–¶–∏–∫–ª `for...of`**

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç `.next()` –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ `done !== true`:

```js
for (const value of gen()) {
  console.log(value); // A, B, C
}
```

> ‚ùóÔ∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: `for...of` —Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω–µ—á–Ω—ã—Ö** –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤.

---

### 3. **–û–ø–µ—Ä–∞—Ç–æ—Ä —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (`...`)**

–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ä–∞–∑—É:

```js
const values = [...gen()];
console.log(values); // ['A', 'B', 'C']
```

---

### 4. **`Array.from()`**

–¢–æ –∂–µ, —á—Ç–æ –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä `...`, –Ω–æ —á—É—Ç—å –≥–∏–±—á–µ (–º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º):

```js
const arr = Array.from(gen());
console.log(arr); // ['A', 'B', 'C']
```

---

### 5. **–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è (—Ä–µ–¥–∫–æ)**

```js
const [a, b, c] = gen();
console.log(a, b, c); // 'A' 'B' 'C'
```

---

### üîÑ –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –ø–µ—Ä–µ–±–æ—Ä

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä **–æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π** ‚Äî –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (`done: true`) –µ–≥–æ –Ω–µ–ª—å–∑—è "—Å–±—Ä–æ—Å–∏—Ç—å". –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä:

```js
const g = gen();
[...g];        // OK
[...g];        // –ü—É—Å—Ç–æ! –ù—É–∂–Ω–æ —Å–Ω–æ–≤–∞ –≤—ã–∑–≤–∞—Ç—å `gen()`
```



